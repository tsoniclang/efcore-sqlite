// Generated by tsbindgen - Architecture
// Namespace: Microsoft.EntityFrameworkCore.Sqlite.Migrations.Internal
// Assembly: Microsoft.EntityFrameworkCore.Sqlite

// Primitive type aliases from @tsonic/core
import type { sbyte, byte, short, ushort, int, uint, long, ulong, int128, uint128, half, float, double, decimal, nint, nuint, char } from '@tsonic/core/types.js';

// Import types from other namespaces
import * as System_Internal from "@tsonic/dotnet/System.js";
import type { IAsyncDisposable, IDisposable, Object as ClrObject, String as ClrString, Void } from "@tsonic/dotnet/System.js";
import type { CancellationToken } from "@tsonic/dotnet/System.Threading.js";
import type { Task, ValueTask } from "@tsonic/dotnet/System.Threading.Tasks.js";
import * as Microsoft_EntityFrameworkCore_Migrations_Internal from "@tsonic/efcore/Microsoft.EntityFrameworkCore.Migrations.js";
import type { HistoryRepository, HistoryRepositoryDependencies, IHistoryRepository, IMigrationsDatabaseLock, LockReleaseBehavior } from "@tsonic/efcore/Microsoft.EntityFrameworkCore.Migrations.js";
import type { IRelationalCommand, RelationalCommandParameterObject } from "@tsonic/efcore/Microsoft.EntityFrameworkCore.Storage.js";

export interface SqliteHistoryRepository$instance extends HistoryRepository {
    readonly lockReleaseBehavior: LockReleaseBehavior;
    acquireDatabaseLock(): IMigrationsDatabaseLock;
    acquireDatabaseLockAsync(cancellationToken?: CancellationToken): Task<IMigrationsDatabaseLock>;
    getBeginIfExistsScript(migrationId: string): string;
    getBeginIfNotExistsScript(migrationId: string): string;
    getCreateIfNotExistsScript(): string;
    getEndIfScript(): string;
}


export const SqliteHistoryRepository: {
    new(dependencies: HistoryRepositoryDependencies): SqliteHistoryRepository;
};


export type SqliteHistoryRepository = SqliteHistoryRepository$instance;

export interface SqliteMigrationDatabaseLock$instance {
    readonly historyRepository: IHistoryRepository;
    dispose(): void;
    disposeAsync(): ValueTask;
}


export const SqliteMigrationDatabaseLock: {
    new(releaseLockCommand: IRelationalCommand, relationalCommandParameters: RelationalCommandParameterObject, historyRepository: IHistoryRepository, cancellationToken: CancellationToken): SqliteMigrationDatabaseLock;
};


export type SqliteMigrationDatabaseLock = SqliteMigrationDatabaseLock$instance;

